set(IDF_PATH_CMAKE $ENV{IDF_PATH})
string(REPLACE "\\" "/" IDF_PATH_CMAKE "${IDF_PATH_CMAKE}")

set(COMPONENT_SRCDIRS "src" "src/utility" "src/Fonts")
set(COMPONENT_ADD_INCLUDEDIRS "src" "${IDF_PATH_CMAKE}/components/bt/host/bluedroid/api/include/api")
list(APPEND COMPONENT_REQUIRES "arduino")

set(CONFIG_BT_BLUEDROID_ENABLED 1)

register_component()


set(DEFINITIONS "ESP32")

if (CONFIG_M5STACK_BASIC OR CONFIG_M5STACK_GRAY OR CONFIG_M5STACK_FIRE)
    list(APPEND DEFINITIONS "M5STACK")
endif (CONFIG_M5STACK_BASIC OR CONFIG_M5STACK_GRAY OR CONFIG_M5STACK_FIRE)

if(CONFIG_M5STACK_FIRE)
    list(APPEND DEFINITIONS "M5STACK_FIRE")
endif(CONFIG_M5STACK_FIRE)

target_compile_definitions(${COMPONENT_TARGET} PUBLIC "-DESP32")
